# gofmt 命令使用

## 1. 介绍

在 `Go` 中，可以使用 `gofmt` 命令来格式化代码文件。`gofmt` 是 `Go` 语言官方提供的一个工具，用于自动格式化 `Go` 代码，保持代码的一致性和可读性。

要使用 `gofmt` 命令格式化一个文件，可以在终端中运行以下命令：

```
gofmt -w <文件路径>
```

其中，`<文件路径>` 是要格式化的文件的路径。使用 `-w` 选项表示要直接在原始文件中进行修改，如果不使用 `-w` 选项，则 `gofmt` 将在终端输出格式化后的代码。

例如，假设有一个名为 `main.go` 的文件，可以使用以下命令来格式化该文件：

```bash
gofmt -w main.go
```

这将直接在 `main.go` 文件中进行代码格式化。

另外，一些`集成开发环境（IDE）`和代码编辑器也提供了 `Go` 代码格式化的功能。例如，`Visual Studio Code` 中的 `Go` 扩展和 `GoLand` `IDE` 都集成了代码格式化功能，可以通过快捷键或菜单选项来格式化代码。

## 2. 递归格式化目录文件

### 2.1 命令

要递归地格式化整个目录下的所有 .go 文件，可以使用 gofmt 命令结合 find 命令来实现。以下是一个示例命令：

```
find <目录路径> -name '*.go' -exec gofmt -w {} \;
```

将 `<目录路径>` 替换为要格式化的目录的路径即可。

例如，如果要格式化当前目录及其子目录下的所有 `.go` 文件，可以使用以下命令：

```bash
find . -name '*.go' -exec gofmt -w {} \;
```

这将递归地查找当前目录及其子目录下的所有 `.go` 文件，并使用 `gofmt` 命令对它们进行格式化。

### 2.2 理解

在命令行中，`{}` 是一个特殊的占位符，用于表示 `find` 命令中 `-exec` 选项执行的命令的参数。

在 `find` 命令中，`-exec` 选项用于执行指定的命令，并将找到的文件作为参数传递给该命令。
`{}` 表示找到的文件的占位符，`-exec` 选项会将该占位符替换为实际的文件路径。

在之前提到的命令中：

```bash
find . -name '\*.go' -exec gofmt -w {} \;
```

`-exec gofmt -w {} \;` 部分表示在找到的每个 `.go` 文件上执行 `gofmt -w` 命令。
`{}` 将被实际的文件路径替换，`\;` 表示 `-exec` 选项的结束。

因此，`gofmt -w {}` 中的 `{}` 表示 `find` 命令找到的每个文件的占位符。
